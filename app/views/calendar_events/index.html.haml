#main.container
  %h1.header= link_to("HCS-PTO", root_path)
  %h3.header Calendar Events

  %table.table
    %thead
      %tr
        %th= link_to('Title',calendar_events_path(:order => 'title'))
        %th Description
        %th= link_to('Location', calendar_events_path(:order => :location))
        %th= link_to('Contact Person', calendar_events_path(:order => :contact_person))
        %th= link_to('Start Date', calendar_events_path(:order => :start_date_time))
        %th= link_to('End Date', calendar_events_path(:order => :end_date_time))
    %tbody
      -@calendar_events.each do |event|
        %tr
        %td.title=link_to event.title, calendar_event_path(event)
        %td.description=truncate(event.description, length: 50)
        %td.location=event.location
        %td.contact_person=event.contact_person
        %td.start_date=event.start_date_time ? event.start_date_time.to_formatted_s(:short): "No time indicated"
        %td.end_date=event.end_date_time ? event.end_date_time.to_formatted_s(:short): "No time indicated"

  =form_for :search, :method => :get do |f|
    =f.label :start_date_time, "From"
    =f.date_field :start_date_time

    =f.label :end_date_time, "To"
    =f.date_field :end_date_time

    =f.submit "Show events"
  %br
  %br

=link_to "Create a new event for HCS-PTO", new_calendar_event_path
